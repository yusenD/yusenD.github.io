---
layout: post
title: ç®—æ³•â€”â€”â€”â€”æ•°ç»„
feature-img: "assets/img/background/pexels-photo8.jpeg"
thumbnail: "assets/img/background/pexels-photo8.jpeg"
tags: [ç®—æ³•,é¢è¯•]
---

> è®°å¿†æ˜¯ä¸€ç§ç›¸èšçš„æ–¹å¼ï¼Œ <br>
> å¿˜å´æ˜¯ä¸€ç§è‡ªç”±çš„æ–¹å¼ã€‚                          
> <p align="right">â€”â€”çºªä¼¯ä¼¦</p>

ä»ä¸€ä¸ªé—®é¢˜å¼€å§‹ï¼Œåœ¨å¾ˆå¤šé«˜çº§è¯­è¨€é‡Œï¼Œæ•°ç»„çš„æ˜¯ä»0å¼€å§‹å¼€å§‹ç¼–å·ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

### 1.éšæœºè®¿é—®
----


**æ•°ç»„ï¼ˆArrayï¼‰æ˜¯ä¸€ç§çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚ä»–ç”¨ä¸€ç»„è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ¥å­˜å‚¨ä¸€ç»„å…·æœ‰ç›¸åŒç±»å‹çš„æ•°æ®ã€‚**

è¿™é‡Œé¢æœ‰å‡ ä¸ªå…³é”®è¯ã€‚

**çº¿æ€§è¡¨ï¼š**é¡¾åæ€ä¹‰ï¼Œçº¿æ€§è¡¨å°±æ˜¯ä¸€æ¡çº¿ä¸€æ ·çš„ç»“æ„ã€‚æ•°ç»„ã€é“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆç­‰éƒ½æ˜¯çº¿æ€§è¡¨ã€‚

![](https://i.loli.net/2018/10/02/5bb38a32182e9.jpg)

ä¸ä¹‹ç›¸å¯¹çš„æ˜¯**éçº¿æ€§è¡¨**ï¼Œæ¯”å¦‚äºŒå‰æ ‘ã€å †ã€å›¾ç­‰ï¼Œæ•°æ®ä¹‹é—´çš„å…³ç³»å¹¶ä¸æ˜¯ç®€å•çš„å‰åå…³ç³»ã€‚

![](https://i.loli.net/2018/10/02/5bb38a9beab71.jpg)

**è¿ç»­çš„å†…å­˜ç©ºé—´ä¸ç›¸åŒç±»å‹çš„æ•°æ®**ï¼Œè¿™ä¸€ç‰¹æ€§æ˜¯çš„æ•°ç»„å…·æœ‰äº†â€œéšæœºè®¿é—®â€ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾è®¿é—®åˆ°æ•°ç»„é‡Œé¢ä»»æ„ä½ç½®çš„æ•°æ®ã€‚

ä½†æ˜¯ï¼Œè¿™ä¸€ç‰¹æ€§ä¹Ÿä½¿å¾—å¾ˆå¤šæ“ä½œå˜å¾—ä½æ•ˆç¹çã€‚æ¯”å¦‚ï¼Œå¦‚æœè¦è¿›è¡Œåˆ é™¤ã€æ’å…¥ä¸€ä¸ªæ•°æ®çš„è¯ï¼Œå¾ˆå¤šæƒ…å†µè¦è¿›è¡Œå¤§é‡çš„æ•°æ®è¿ç§»å·¥ä½œã€‚æ¯”å¦‚åœ¨ä¸€ä¸ªæ•°ç»„ä¸­é—´æ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œé‚£è¿™ä¸ªä½ç½®åé¢çš„æ•°æ®éƒ½è¦å¾€åç§»åŠ¨ï¼Œåˆ é™¤ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

é¦–å…ˆçœ‹ä¸€ä¸‹æ’å…¥æ“ä½œå§ã€‚åŠ å…¥æ˜¯æ’å…¥åˆ°æ•°ç»„æœ€åä¸€ä¸ªä½ç½®ï¼Œé‚£æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œå¦‚æœæ˜¯æ’å…¥åˆ°å¼€å¤´ï¼Œæ•°ç»„çš„nä¸ªæ•°æ®éƒ½è¦å¾€åç§»åŠ¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚å¦‚æ­¤ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦å°±æ˜¯ï¼š$$\frac{1}{n} + 2\frac{1}{n} + Â·Â·Â·Â· + n\frac{1}{n}$$ ï¼Œå³O(n)ã€‚â€¨
ç„¶åå†çœ‹ä¸€ä¸‹åˆ é™¤æ“ä½œã€‚å¦‚æœè¦æ±‚æ•°æ®è¿ç»­ï¼Œé‚£ä¹ˆå¤æ‚åº¦åˆ†æå’Œä¸Šé¢çš„æ’å…¥æ“ä½œä¸€æ ·ã€‚å®é™…ä¸Šï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¸€å®šè¦æ±‚æ•°ç»„ä¸­æ•°æ®çš„è¿ç»­æ€§ã€‚å¦‚æœæˆ‘ä»¬å°†å¤šæ¬¡åˆ é™¤æ“ä½œä¸€èµ·æ‰§è¡Œï¼Œåˆ é™¤çš„æ•ˆç‡å°±é«˜äº†å¾ˆå¤šã€‚

æ¯”å¦‚ä¸‹é¢çš„è¿™ä¸ªä¾‹å­ğŸŒ°ï¼š

æˆ‘ä»¬è¦åœ¨æ•°ç»„ä¸­åˆ é™¤aã€bã€cä¸‰ä¸ªå…ƒç´ ï¼Œä¸ºäº†é¿å…åé¢çš„å…ƒç´ å¤šæ¬¡ä¸å¿…è¦çš„ç§»åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®°å½•ä¸‹å·²ç»åˆ é™¤çš„æ•°æ®ï¼Œæ¯æ¬¡åˆ é™¤æ•°æ®å…¶å®å¹¶ä¸æ˜¯çœŸæ­£çš„è¿›è¡Œåˆ é™¤ï¼Œè€Œä¸”è®°å½•ä¸‹æ•°æ®å·²ç»è¢«åˆ é™¤äº†ã€‚å½“æ•°ç»„æ²¡æœ‰æ›´å¤šçš„ç©ºé—´å­˜å‚¨æ—¶ï¼Œå†è¿›è¡Œä¸€æ¬¡çœŸæ­£çš„åˆ é™¤æ“ä½œï¼Œè¿™æ ·å°±å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†æ—¶é—´å¤æ‚åº¦ã€‚â€¨
å…¶å®è¿™å°±æ˜¯JVMæ ‡è®°æ¸…é™¤åƒåœ¾å›æ”¶ç®—æ³•çš„æ ¸å¿ƒã€‚

> JVMæ ‡è®°æ¸…é™¤ç®—æ³•ï¼šå¤§å¤šæ•°ä¸»æµè™šæ‹Ÿæœºé‡‡ç”¨å¯è¾¾æ€§åˆ†æç®—æ³•æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»ï¼Œåœ¨æ ‡è®°é˜¶æ®µï¼Œä¼šéå†æ‰€æœ‰GC ROOTSï¼Œå°†æ‰€æœ‰GC ROOTSå¯è¾¾çš„å¯¹è±¡æ ‡è®°ä¸ºå­˜æ´»ã€‚åªæœ‰å½“æ ‡è®°å·¥ä½œå®Œæˆä¹‹åï¼Œæ¸…ç†å·¥ä½œæ‰ä¼šå¼€å§‹ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼è¿˜æ˜¯æœ‰æ‰€ä¸è¶³ï¼šä¸€æ˜¯æ•ˆç‡é—®é¢˜ï¼Œæ ‡è®°å’Œæ¸…ç†çš„æ•ˆç‡éƒ½ä¸é«˜ï¼Œä½†æ˜¯å½“çŸ¥é“åªæœ‰å°‘é‡åƒåœ¾äº§ç”Ÿæ—¶ä¼šå¾ˆé«˜æ•ˆã€‚äºŒæ˜¯ç©ºé—´é—®é¢˜ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸è¿ç»­çš„å†…å­˜ç©ºé—´ç¢ç‰‡ã€‚

> *é¢è¯•çš„æ—¶å€™ä¸€ä¸ªç»å¸¸ä¼šé—®åˆ°çš„é—®é¢˜ï¼šæ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«*è¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼š
> 
> ![](https://i.loli.net/2018/10/02/5bb38ca19fbff.jpg)
> 


### 2.è­¦æƒ•æ•°ç»„è¶Šç•Œ
----


å…ˆç»™å‡ºæ•°ç»„çš„å¯»å€å…¬å¼ï¼š

> a[k]_address = base_address + k*data_type_size //data_type_sizeè¡¨ç¤ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°

è¿™é‡Œæœ‰ä¸€æ®µä»£ç ï¼š

```
int main(){
    int i = 0;
    int arr[3] = {0};
    for(; i<=3; i++){
        arr[i] = 0;
        printf("hello world\n");
    }
    return 0;
}

```

å¾ˆç®€å•çš„ä»£ç ï¼Œæœ€åçš„è¾“å‡ºç»“æœæ˜¯æ— çº¿æ‰“å°â€œhello worldâ€ï¼ŒåŸå› åœ¨äºæ•°ç»„è¶Šç•Œäº†ã€‚arr[3]è®¿é—®çš„å®é™…ä¸Šæ˜¯iï¼Œæ‰€ä»¥iå˜æˆäº†0ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œåªè¦ä¸æ˜¯è®¿é—®å—é™çš„å†…å­˜ï¼Œæ‰€æœ‰å†…å­˜ç©ºé—´éƒ½æ˜¯å¯ä»¥è‡ªç”±è®¿é—®çš„ã€‚å‡½æ•°ä½“å†…éƒ¨çš„å±€éƒ¨å˜é‡å­˜åœ¨æ ˆä¸Šï¼Œè€Œä¸”æ˜¯è¿ç»­å‹æ ˆã€‚åœ¨Linuxè¿›ç¨‹çš„å†…å­˜å¸ƒå±€ä¸­ï¼Œæ ˆåŒºåœ¨é«˜åœ°å€ç©ºé—´ï¼Œä»é«˜å‘ä½å¢é•¿ã€‚å˜é‡iå’Œarråœ¨ç›¸é‚»åœ°å€ï¼Œä¸”iæ¯”arrçš„åœ°å€å¤§ï¼Œæ‰€ä»¥arrè¶Šç•Œæ­£å¥½è®¿é—®åˆ°iã€‚

æ•°ç»„è¶Šç•Œåœ¨Cè¯­è¨€ä¸­æ˜¯ä¸€ç§æœªå†³çš„è¡Œä¸ºï¼Œå¹¶ä¸”æ²¡æœ‰è§„å®šæ•°ç»„è®¿é—®è¶Šç•Œæ—¶å€™ç¼–è¯‘å™¨åº”è¯¥å¦‚ä½•å¤„ç†ã€‚å› ä¸ºè®¿é—®æ•°ç»„çš„æœ¬è´¨å°±æ˜¯è®¿é—®ä¸€æ®µè¿ç»­å†…å­˜ï¼Œåªè¦æ•°ç»„é€šè¿‡åç§»è®¡ç®—å¾—åˆ°çš„å†…å­˜åœ°å€æ˜¯å¯ä»¥ç”¨çš„ï¼Œé‚£ä¹ˆç¨‹åºå¯èƒ½ä¸ä¼šæŠ¥ä»»ä½•é”™è¯¯ã€‚

ä½†æ˜¯å…¶å®ï¼Œå¾ˆå¤šè¯­è¨€æœ¬èº«ä¼šåšè¶Šç•Œæ£€æŸ¥ï¼Œæ¯”å¦‚Javaçš„`ArryIndexOutOfBounds`çš„å¼‚å¸¸ã€‚

### 3.è§£ç­”å¼€ç¯‡


ä¸ºä»€ä¹ˆä»0å¼€å§‹ç¼–å·ï¼Œè€Œä¸æ˜¯ä»1å‘¢ï¼Ÿ

ä¸Šé¢ç»™å‡ºäº†ä¸€ä¸ªå¯»å€å…¬å¼ï¼Œa[0]å³åç§»é‡ä¸º0ï¼Œå³é¦–åœ°å€ï¼Œå¦‚æœè§„å®ša[1]çš„åç§»é‡ä¸º0ï¼Œé‚£ä¹ˆå¯»å€å…¬å¼å°±å˜æˆäº†

> a[k]_address = base_address + (k-1)*data_type_size

è¿™æ ·æ¯æ¬¡éƒ½å¤šäº†ä¸€æ¬¡å‡æ³•è¿ç®—ï¼Œå¾—ä¸å¿å¤±ã€‚


å¯¹äºm*nçš„æ•°ç»„ï¼Œå¯»å€å…¬å¼ä¸ºï¼š
> a[i][j]_address = base_address + (i*n+j)*data_type_size


â€¨â€¨â€¨








