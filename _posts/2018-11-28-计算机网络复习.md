---
layout: post
title: 计算机网络复习
thumbnail: "assets/img/background/pexels-photo17.jpeg"
tags: [计算机网络]
---

> 我永恒的灵魂，注视着你的心 <br>
> 纵然黑夜孤寂，白夜如焚
> <p align="right">——蓝波</p>



## 计算机网络常考题
----
### 1.分组交换网络中的时延都有哪些？产生这些时延的原因是什么？

答：

* 传输时延：数据段路由器将分组发送的时候产生的时延
* 传播时延：分组在链路上传播时产生时延
* 排队时延：分组在缓存队列中的等待时间
* 处理时延：交换机或路由器对数据进行处理产生的时延


### 2.DNS层次之间的关系，nslookup手动查询IP（给出了各种服务器的域名和IP）

答：

层次关系：提供下一层DNS服务器的域名和IP地址

查询过程：
① 通过nslookup获取根服务器
nslookup可以直接获得13个根域名服务器
②从根名称服务器获取.com顶级域名服务器
nslookup -type=ns .com c.root-servers.net
③从顶级域名服务器获取权威域名服务器
nslookup -type=ns CNN.com d.gtld-servers.com
④从权威域名服务器获得网站IP
nslookup -type=a www.baidu.com ns.baidu.com


### 3.因特网为什么层次选路，AS协议，各协议特点，

* 层次选路：
    * 规模：因特网规模非常大，存储转发等消耗很大
    * 自治管理：管理者希望对自己范围内的路由器进行管理

* AS协议：
    * 内部
        * OSPF:使用LS算法，
        * RIP:采用DV算法，最大跳数15限制了网络规模，好消息传的快，坏消息传得快
    * 外部
        * BGP:承载了路径属性，并提供受控制的选路信息分布

内部路由器：为提供区域内分组提供路由选择
骨干路由器：为区域间转发提供路由选择
边界路由器：为传送到区域外分组提供路由路由选择
区域边界路由器：为传送到区域外分组提供路由保护
        
### 4.H1访问H3的那个

①H1将自己的IP地址与子网掩码相与得到网络号，将H3的IP地址与子网掩码相与得到网络号，两网络号进行比较发现不在统一网段，于是封装ARP广播包，获取R10的MAC地址。
②R10接收到包后，返回RM10给H1，H1将源IP设为自己的IP地址，源MAC地址设为MH1，目的IP为H3的IP，目的MAC地址为MR10，发送到链路中。
③R10收到帧，发现目的IP地址为H3，查询转发表，将目的IP一次相与，发现H3属于子网3，于是有R11转发给子网3。
④R20收到数据，查看路由转发表，把数据交给R21，R21封装一个广播包，获取目的IP的MAC地址，然后将源MAC地址改为MR21，目的MAC改为MH3，将发送，H3检查到自己的包之后抓取上交。

### 5.循环冗余码计算

要点：看清多项式，从最高位开始，位数别差

在计算码的时候在需要传输的原始数据后面需要除数位数-1个0

在验证的时候，注意别除错了就OK

### 6.TCP拥塞控制算法

①
②慢启动：开始的时候，每次加一个MSS，之后指数增长，如第二次长度加2个MSS，第三次加4个MSS，当达到上限之后，每次加一个MSS
③超时处理：3个ACK超时，

### 7.子网分配



### 8.DV算法和LS算法，节点收集和扩散控制

节点收集：每个节点需要把链路信息告诉其他节点，包括邻居节点的连通性和链路代价值，这样每个节点都有了整个网络的拓扑结构和链路代价值。

扩散控制：需要洪泛控制，主要方法有
①在分组头部加TTL值，没经过一个路由该值减一，到0后丢失该分组。
②根据每个
### 9.TCP Reno题，课后原题！！

### 10.GOOGLE题

①发现DHCP，客户机创建DHCP报文，再用UDP封装，再封装到以太网中进行全网广播，源IP（0.0.0.0），目的MAC全f，路由器收到后分配IP，将IP、子网掩码，客户机第一个路由器IP和DNS服务器IP封装 DHCP ACK 发送给客户机。客户机保存IP、子网掩码和DNS服务器IP并且把默认网关记录到自己的转发表。
②客户机将自己IP与子网掩码相与得到网络号，将DNS服务器IP与子网掩码相与得到网络号，若两网络号相同则说明在同一网段，发送全网广播（源IP、源MAC为客户机自己的，目的IP为DNS服务器IP，目的MAC全f）；如果相同则发送广播（源IP、源MAC为客户机自己的，目的IP为DNS服务器IP，目的MAC为网关的），路由器收到后，将路由器接口的IP与子网掩码相与，与目的主机网络号比较，如果相同则发送全网广播；如果不同则发送到下一网关。到达DNS服务器后，DNS服务器其MAC地址打包发送给客户机。
③客户机发送ARP广播，在DNS数据库中查找谷歌的域名，如果有谷歌IP的原记录，则DNS服务器形成DNS响应报文，封装后发送给客户机；如果没有则到根域名服务器查找顶级域名服务器，然后到顶级域名服务器查找权威域名服务器，最后在权威域名服务器找到谷歌的主机名和IP地址，打包后发送给客户机。客户机提取谷歌的IP地址。
④客户机创建一个用于HTTP连接的套接字进程，发送TCP SYN报文到谷歌服务器，谷歌服务器接收到后将其分配到80端口，并生成TCP SYN ACK报文发送给客户机。客户机收到后封装GET信息，发送给谷歌，谷歌从中提取GET信息后形成响应报文，然后发送给客户机。客户机的Web浏览器从套接字中读取HTTP回复报文，再从HTTP响应报文的主题部分提取html信息，显示网页。

### 11.DNS查询过程

略，上面的第2步就是

### 12.虚电路/数据包网络

①发送之前需要建立连接/不需要
②每个分组头部都有虚电路标识/有完整的目的IP地址等信息，用于路由转发
③分组按序到达/乱序
④分组通过相同路径到达目的地/通过不同路径到达
⑤若路径中一路由器损坏，则所有分组丢失/可能会发生丢包，剩余分组可以通过其他路径到达目的地。

### 13. CSMA/CD协议工作过程---带冲突检测的在载波监听多路工作过程

①从网络层接受数据包生成帧
②检测当前信道是否空闲，如果空闲则立刻发送数据；如果忙碌，则等待上一数据传输完成后再发送
③帧在信道进行传输时，监听信道是否有来自其他适配器的信号能量存在。如果传输完整个帧未检测到来自其他适配器的能量信号，那么判定完成传输；如果传输过程中检测到了，那么终止传输并且发送冲突信号。
④终止后，适配器进入指数回退：在m次碰撞后，适配器随机从0，1，2。。2^m -1中选取一个k值，适配器等待k*512比特时间后反而第二步
